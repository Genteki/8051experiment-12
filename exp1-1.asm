ORG 0000H
LJMP INIT

ORG 0100H
INIT:
    N1 EQU 41H
    N2 EQU 42H
    N3 EQU 43H
    N4 EQU 44H

    MOV N1 ;晶体管1:1
    MOV N2 ;晶体管2:2
    MOV N3 ;晶体管3:3
    MOV N4 ;晶体管4:4
    LJMP MAIN

MAIN:
    LCALL DISPLAY ; 调用展示子程序
    SJMP $

DISPLAY:
; ADDRESS_LIST: 7FF8H,7FF9H,7FFAH,7FFBH
    MOV A, N1
    ANL A, #00001111B; 取后四位
    MOV DPTR, #MAPNUM
    MOVC A, @A+DPTR
    MOV DPTR, #7FF8H
    ANL A, #01111111B;
    MOVX @DPTR, A

    MOV A, N2
    ANL A, #00001111B; 取后四位
    MOV DPTR, #MAPNUM
    MOVC A, @A+DPTR
    MOV DPTR, #7FF9H
    ANL A, #01111111B;
    MOVX @DPTR, A

    MOV A, N3
    ANL A, #00001111B; 取后四位
    MOV DPTR, #MAPNUM
    MOVC A, @A+DPTR
    MOV DPTR, #7FFAH
    ANL A, #01111111B;
    MOVX @DPTR, A

    MOV A, N4
    ANL A, #00001111B; 取后四位
    MOV DPTR, #MAPNUM
    MOVC A, @A+DPTR
    MOV DPTR, #7FFBH
    ANL A, #01111111B;
    MOVX @DPTR, A
    RET

MAPNUM:
    DB 0C0H, 0F9H, 0A4H, 0B0H
    DB 99H,  92H,  82H,  0F8H
    DB 80H,  090H, 88H,  83H
    DB 0C6H, 0A1H, 86H,  8EH
END
